!function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){e.exports=t(1)},function(e,r,t){var n=t(2),o=t(4),a=t(3),i=t(8);if(window.ET=n,i.startListening(),window.onerror=function(e,r,t,n,i){var c=o.getET();if(!c.beforeOnWinError.apply(null,arguments))return!1;var s=Array.prototype.slice.call(arguments);a.winOnError({error:i,throwError:{errorMsg:e,fileName:r,lineNum:t,colNum:n}}),c.afterOnWinError.apply(null,s)},document.createEvent){var c=document.createEvent("Event");c.initEvent("etOnload",!0,!0),document.dispatchEvent(c)}else document.createEventObject&&document.documentElement.etOnload++},function(e,r,t){var n=t(3),o=t(5),a=t(4),i=function(){var e=function(){throw new Error("error for test -1623")},r=function(){e()},t=function(){r()},n=document.createElement("input");n.setAttribute("type","button"),n.setAttribute("value","throwError"),n.onclick=t,n.style.position="absolute",n.style.top="0px",document.body.appendChild(n)},c=function(){};c.prototype={availableExtendEtParams:["applicationName","applicationVersion","userId","tenantId","customId","tag","queryParams","postParams","netInfo"],record:function(e){if(!this.beforeOnWinError())return!1;try{throw new Error("manual record [code:"+a.getManualRecordKey()+"]")}catch(r){n.triggerError({errorStack:o.init({error:r}),manualFormatter:e,throwError:null,action:"manual"})}},beforeOnWinError:function(){return!0},afterOnWinError:function(){return!0},getExtendEtParams:function(){return{}},getFieldsFormatter:function(){return{}},getAction:function(){var e=a.isMobile();return e?1:2},getPort:function(){return"http://opsapi.beisen.com/api/ErrorTracker"},binGo:function(){i()}},e.exports=new c},function(e,r,t){var n=t(4),o=t(5),a=t(7),i=t(6),c=function(e){var r=e.catchClassFullName||"",t=[e.applicationName,e.exceptionType].join("_");return r&&(t+="_"+r),t},s=function(e){var r=e.errorStack;if(!r.formatSuccess)return!1;var t=(e.action||"auto",e.manualFormatter||function(e,r){return r});try{for(var o=r.getBottomFrame(),s=r.getTopFrame(),u={action:n.getET().getAction(),netInfo:a.getInfo(),exceptionType:r.errorMsg,exceptionFullName:r.errorMsg,stackTrace:r.stack,throwClassFullName:"",throwMethodName:s.fnName,throwSourceFileName:s.fileName,throwLineNum:s.lineNum,throwColumnNum:s.colNum,catchClassFullName:"",catchMethodName:o.fnName,catchSourceFileName:o.fileName,catchLineNum:o.lineNum,catchColumnNum:o.colNum,applicationName:"undefined",message:{viewport:n.getViewport(),screen:n.getScreen()}},l=n.getET(),m=l.getExtendEtParams(),p=0;p<l.availableExtendEtParams.length;p++){var f=l.availableExtendEtParams[p],g=u[f];u[f]=m[f]||g||""}var d={},h=l.getFieldsFormatter();for(var E in u){var v=u[E];E in h&&(v=h[E](u[E])),d[E]=v}d=t(u,d);var N=new RegExp(n.getManualRecordKey());d.exceptionFullName.match(N)&&(d.exceptionFullName=d.exceptionType),d.catchClassFullName=c(d),n.request({url:l.getPort(),type:"GET",data:d})}catch(w){i.sendError({exceptionForApp:"ET: analyzing failed -901",exceptionForET:"onerror.js triggerError(): error",message:{errorMsg:r.errorMsg,progressDeep:r.progressDeep,stack:r.stack,formatSuccess:r.formatSuccess,statusDescribe:r.statusDescribe,eStack:w&&w.stack?w.stack:"NULL"}})}},u=function(e){s({errorStack:o.init({error:e.error,throwError:e.throwError,action:"auto"})})};e.exports={triggerError:s,winOnError:u}},function(e,r,t){e.exports={getViewport:function(){var e=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.offsetWidth,r=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.offsetHeight;return{width:e,height:r}},getScreen:function(){var e=window.screen.width,r=window.screen.height;return{width:e,height:r}},isMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},getDomain:function(){var e=window.location.href.split(/\//),r=e[2];return r||"null"},request:function(e){var r={url:"",type:"GET",data:{}};for(var t in e)r[t]=e[t];if("get"==r.type.toLowerCase()){var n=[];for(var o in r.data){var a=r.data[o];"string"!=typeof a&&(a=JSON.stringify(a)),n.push(o+"="+encodeURIComponent(a))}var i=r.url+"?"+n.join("&");(new Image).src=i}},getET:function(){return window.ET},getETAppName:function(){return"ux.et"},getManualRecordKey:function(){return"BS365595"}}},function(e,r,t){var n=(t(4),t(6)),o=function(e){var r="",t=e.error,o=e.throwError,a=function(){if(t&&t.stack)return r="has error and error.stack",!0;if(!o)return r="both error and error.stack are null, throwError is null too",!1;var e=function(){var e=o.lineNum||-1,r=o.colNum||-1,t=o.fileName||"unknown",n=o.errorMsg||"unknown",a=n;if(n.toLowerCase().match(/^script error/)&&"unknown"!==t){var i=t.replace(/\?[\S\s]+$/,"");a=["Script error: (file: ",i,")"].join("")}this.stack=[n,"@",t,":",e,":",r].join(""),this.toString=function(){return a}};return t=new e,r="errorObj is null and use throwError packaging single stack",!0},i=function(){this.errorMsg="",this.frames=[],this.stack="",this.progressDeep=0,this.formatSuccess=!1;var e=a();if(e)this.format(),r="everything in expect";else{var t=this.createFrame({fnName:"null",fileName:"null",lineNum:"-1",colNum:"-1"});this.errorMsg="on ET.record(): no ErrorObj in try-catch's arguments",this.frames=[t],this.stack=this.toString(),this.progressDeep=1,this.formatSuccess=!0,r="all error message is null, make a stackFrame Object in disguise"}};i.prototype={crossBrowserStackExp:{spaceMark:[/\s+at\s+/g,/\n+/g],infoGroup:[/^([\S\s]+?)@((?:file\:){0,1}[\S]+?)\:([-]*\d+)\:([-]*\d+)$/,,/^([\S\s]+?)\s\(([\S]+?)\:([-]*\d+)\:([-]*\d+)\)$/,/^([\S\s]+?)@([\S]+?)\:([-]*\d+)\:([-]*\d*)$/,/^()(http[\S]+?)\:([-]*\d+)\:([-]*\d*)$/,/^()@([\S]+?)\:([-]*\d+)\:([-]*\d+)$/]},getStackList:function(){for(var e=this,r=e.crossBrowserStackExp,n=[],o=0;o<r.spaceMark.length;o++){var a=r.spaceMark[o];if(n=t.stack.split(a),n&&n.length>1)return n}return n=[t.stack.replace(/^[\s]*|[\s]*$/,"")]},createFrame:function(e){return{fnName:e.fnName,fileName:e.fileName,lineNum:e.lineNum,colNum:e.colNum}},getStackInfo:function(e){for(var r=this,t=r.crossBrowserStackExp,n=null,o=0;o<t.infoGroup.length;o++){var a=t.infoGroup[o];if(n=e.match(a),n&&n.length>4)return r.createFrame({fnName:n[1],fileName:n[2],lineNum:n[3],colNum:n[4]})}return null},checkFrames:function(){var e=this;if(!e.frames.length){var o=t?t.toString():"";return n.sendError({exceptionForApp:o+".. .",exceptionForET:"stackFrame.js format(): frames.length is 0",message:{errorMsg:o,unParsedStack:t?t.stack:"",statusDescribe:r}}),!1}return!0},format:function(){var e=this;try{e.errorMsg=t.toString();for(var o=e.getStackList(),a=0;a<o.length;a++){var i=e.getStackInfo(o[a]);i&&e.frames.push(i)}if(!e.checkFrames())return e.formatSuccess=!1,!1;e.progressDeep=e.frames.length,e.stack=this.toString(),e.formatSuccess=!0}catch(c){n.sendError({exceptionForApp:"ET: analyzing failed -902",exceptionForET:"stackFrame.js format(): error",message:{unParseStackTrace:t?t.stack||"error.stack is null":"error obj is null",statusDescribe:r,eStack:c?c.stack||"error.stack is null":"error obj is null"}})}},toString:function(){for(var e=this,r="",t=[],n=0;n<e.frames.length;n++){var o=e.frames[n];t.push([o.fnName,"@","(",o.fileName,")",":",o.lineNum,":",o.colNum].join(""))}return r+=t.join(";")},getBottomFrame:function(){return this.frames[this.progressDeep-1]},getTopFrame:function(){return this.frames[0]}};var c=new i(e);return c.statusDescribe=r,c};e.exports={init:o}},function(e,r,t){var n=t(4);e.exports={sendError:function(e){var r=n.getET(),t=e.exceptionForApp||"ET: analyzing failed",o=e.exceptionForET||"",a=JSON.stringify(e.message||{}),i=r.getExtendEtParams(),c=i.applicationName||"Undefined.ET.AppName";n.request({url:r.getPort(),type:"GET",data:{action:r.getAction(),applicationName:c,exceptionType:t,exceptionFullName:t,message:"{}",catchClassFullName:[c,t].join("_")}}),n.request({url:r.getPort(),type:"GET",data:{action:r.getAction(),applicationName:n.getETAppName(),exceptionType:o,exceptionFullName:o,catchClassFullName:[n.getETAppName(),o].join("_"),message:a}})}}},function(e,r){e.exports={getInfo:function(){return""}}},function(e,r,t){var n=t(4);e.exports={startListening:function(){var e=function(e){if(e.target&&e.target.tagName){var r=e.target.tagName.toLocaleLowerCase();if("script"==r&&e.target.src.match(/api\/ErrorTracke/)){var t=e.target.src,o=t.length;t="request ET port error";var a=n.getET();n.request({url:"http://opsapi.beisen.com/api/ErrorTracker",type:"GET",data:{action:a.getAction(),applicationName:n.getETAppName(),exceptionType:"ET:404",message:JSON.stringify({urlLength:o,requestUrl:t})}})}}};window.addEventListener?window.addEventListener("error",e,!0):window.attachEvent("onerror",e)}}}]);